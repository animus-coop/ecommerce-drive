"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products";
exports.ids = ["pages/api/products"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "tsyringe":
/*!***************************!*\
  !*** external "tsyringe" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("tsyringe");

/***/ }),

/***/ "(api)/./constants/config.ts":
/*!*****************************!*\
  !*** ./constants/config.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    gapi: {\n        SPREADSHEET_ID: process.env.SPREADSHEET_ID,\n        SCOPES: [\n            \"https://www.googleapis.com/auth/spreadsheets\",\n            \"https://www.googleapis.com/auth/drive\"\n        ],\n        PRODUCT_SHEET_NAME: process.env.PRODUCT_SHEET_NAME,\n        USERS_SHEET_NAME: process.env.USERS_SHEET_NAME,\n        ORDERS_SHEET_NAME: process.env.ORDERS_SHEET_NAME,\n        OAUTH_CLIENT_ID: process.env.OAUTH_CLIENT_ID,\n        OAUTH_CLIENT_KEY: process.env.OAUTH_CLIENT_KEY,\n        OAUTH_REDIRECT_URL: process.env.OAUTH_REDIRECT_URL,\n        OAUTH_SCOPES: [\n            process.env.OAUTH_SCOPES\n        ],\n        PICTURES_FOLDERS_ID: process.env.PICTURES_FOLDERS_ID\n    },\n    MONGODB_CONNECTION: process.env.MONGODB_CONNECTION,\n    IRON_SESSIONS_PASSWORD: process.env.IRON_SESSIONS_PASSWORD,\n    GOOGLE_SHEET_ROWS: {\n        PRODUCTS: {\n            STOCK_COLUMN: 0,\n            CODE_COLUMN: 1,\n            NAME_COLUMN: 2,\n            MINIUM_COLUMN: 3,\n            PRICE_COLUMN: 4,\n            CATEGORY_COLUMN: 5,\n            SELLER_COLUMN: 6\n        },\n        USERS: {\n            ID_COLUMN: 0,\n            EMAIL_COLUMN: 2,\n            IS_ADMIN_COLUMN: 3,\n            BALANCE_COLUMN: 4\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25zdGFudHMvY29uZmlnLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZTtJQUNkQSxJQUFJLEVBQUU7UUFDTEMsY0FBYyxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsY0FBYztRQUMxQ0csTUFBTSxFQUFFO1lBQUMsOENBQThDO1lBQUUsdUNBQXVDO1NBQUM7UUFDakdDLGtCQUFrQixFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Usa0JBQWtCO1FBQ2xEQyxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHLGdCQUFnQjtRQUM5Q0MsaUJBQWlCLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxpQkFBaUI7UUFDaERDLGVBQWUsRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNLLGVBQWU7UUFDNUNDLGdCQUFnQixFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ00sZ0JBQWdCO1FBQzlDQyxrQkFBa0IsRUFBRVIsT0FBTyxDQUFDQyxHQUFHLENBQUNPLGtCQUFrQjtRQUNsREMsWUFBWSxFQUFFO1lBQUNULE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxZQUFZO1NBQUM7UUFDeENDLG1CQUFtQixFQUFFVixPQUFPLENBQUNDLEdBQUcsQ0FBQ1MsbUJBQW1CO0tBQ3BEO0lBQ0RDLGtCQUFrQixFQUFDWCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1Usa0JBQWtCO0lBQ2pEQyxzQkFBc0IsRUFBRVosT0FBTyxDQUFDQyxHQUFHLENBQUNXLHNCQUFzQjtJQUMxREMsaUJBQWlCLEVBQUU7UUFDbEJDLFFBQVEsRUFBRTtZQUNUQyxZQUFZLEVBQUUsQ0FBQztZQUNmQyxXQUFXLEVBQUUsQ0FBQztZQUNkQyxXQUFXLEVBQUUsQ0FBQztZQUNkQyxhQUFhLEVBQUUsQ0FBQztZQUNoQkMsWUFBWSxFQUFFLENBQUM7WUFDZkMsZUFBZSxFQUFFLENBQUM7WUFDbEJDLGFBQWEsRUFBRSxDQUFDO1NBQ2hCO1FBQ0RDLEtBQUssRUFBRTtZQUNOQyxTQUFTLEVBQUUsQ0FBQztZQUNaQyxZQUFZLEVBQUUsQ0FBQztZQUNmQyxlQUFlLEVBQUUsQ0FBQztZQUNsQkMsY0FBYyxFQUFDLENBQUM7U0FDaEI7S0FDRDtDQUNELEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWxlYXJuaW5nLy4vY29uc3RhbnRzL2NvbmZpZy50cz85NTBmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcblx0Z2FwaToge1xuXHRcdFNQUkVBRFNIRUVUX0lEOiBwcm9jZXNzLmVudi5TUFJFQURTSEVFVF9JRCxcblx0XHRTQ09QRVM6IFsnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9zcHJlYWRzaGVldHMnLCAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSddLFxuXHRcdFBST0RVQ1RfU0hFRVRfTkFNRTogcHJvY2Vzcy5lbnYuUFJPRFVDVF9TSEVFVF9OQU1FLFxuXHRcdFVTRVJTX1NIRUVUX05BTUU6IHByb2Nlc3MuZW52LlVTRVJTX1NIRUVUX05BTUUsXG5cdFx0T1JERVJTX1NIRUVUX05BTUU6IHByb2Nlc3MuZW52Lk9SREVSU19TSEVFVF9OQU1FLFxuXHRcdE9BVVRIX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuT0FVVEhfQ0xJRU5UX0lELFxuXHRcdE9BVVRIX0NMSUVOVF9LRVk6IHByb2Nlc3MuZW52Lk9BVVRIX0NMSUVOVF9LRVksXG5cdFx0T0FVVEhfUkVESVJFQ1RfVVJMOiBwcm9jZXNzLmVudi5PQVVUSF9SRURJUkVDVF9VUkwsXG5cdFx0T0FVVEhfU0NPUEVTOiBbcHJvY2Vzcy5lbnYuT0FVVEhfU0NPUEVTXSxcblx0XHRQSUNUVVJFU19GT0xERVJTX0lEOiBwcm9jZXNzLmVudi5QSUNUVVJFU19GT0xERVJTX0lEXG5cdH0sXG5cdE1PTkdPREJfQ09OTkVDVElPTjpwcm9jZXNzLmVudi5NT05HT0RCX0NPTk5FQ1RJT04sXG5cdElST05fU0VTU0lPTlNfUEFTU1dPUkQ6IHByb2Nlc3MuZW52LklST05fU0VTU0lPTlNfUEFTU1dPUkQsXG5cdEdPT0dMRV9TSEVFVF9ST1dTOiB7XG5cdFx0UFJPRFVDVFM6IHtcblx0XHRcdFNUT0NLX0NPTFVNTjogMCxcblx0XHRcdENPREVfQ09MVU1OOiAxLFxuXHRcdFx0TkFNRV9DT0xVTU46IDIsXG5cdFx0XHRNSU5JVU1fQ09MVU1OOiAzLFxuXHRcdFx0UFJJQ0VfQ09MVU1OOiA0LFxuXHRcdFx0Q0FURUdPUllfQ09MVU1OOiA1LFxuXHRcdFx0U0VMTEVSX0NPTFVNTjogNlxuXHRcdH0sXG5cdFx0VVNFUlM6IHtcblx0XHRcdElEX0NPTFVNTjogMCxcblx0XHRcdEVNQUlMX0NPTFVNTjogMixcblx0XHRcdElTX0FETUlOX0NPTFVNTjogMyxcblx0XHRcdEJBTEFOQ0VfQ09MVU1OOjRcblx0XHR9XG5cdH1cbn07XG4iXSwibmFtZXMiOlsiZ2FwaSIsIlNQUkVBRFNIRUVUX0lEIiwicHJvY2VzcyIsImVudiIsIlNDT1BFUyIsIlBST0RVQ1RfU0hFRVRfTkFNRSIsIlVTRVJTX1NIRUVUX05BTUUiLCJPUkRFUlNfU0hFRVRfTkFNRSIsIk9BVVRIX0NMSUVOVF9JRCIsIk9BVVRIX0NMSUVOVF9LRVkiLCJPQVVUSF9SRURJUkVDVF9VUkwiLCJPQVVUSF9TQ09QRVMiLCJQSUNUVVJFU19GT0xERVJTX0lEIiwiTU9OR09EQl9DT05ORUNUSU9OIiwiSVJPTl9TRVNTSU9OU19QQVNTV09SRCIsIkdPT0dMRV9TSEVFVF9ST1dTIiwiUFJPRFVDVFMiLCJTVE9DS19DT0xVTU4iLCJDT0RFX0NPTFVNTiIsIk5BTUVfQ09MVU1OIiwiTUlOSVVNX0NPTFVNTiIsIlBSSUNFX0NPTFVNTiIsIkNBVEVHT1JZX0NPTFVNTiIsIlNFTExFUl9DT0xVTU4iLCJVU0VSUyIsIklEX0NPTFVNTiIsIkVNQUlMX0NPTFVNTiIsIklTX0FETUlOX0NPTFVNTiIsIkJBTEFOQ0VfQ09MVU1OIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./constants/config.ts\n");

/***/ }),

/***/ "(api)/./pages/api/products/index.ts":
/*!*************************************!*\
  !*** ./pages/api/products/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getProducts)\n/* harmony export */ });\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tsyringe */ \"tsyringe\");\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tsyringe__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_services_ProductService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/services/ProductService */ \"(api)/./src/services/ProductService.ts\");\n\n\nasync function getProducts(req, res) {\n    const productService = tsyringe__WEBPACK_IMPORTED_MODULE_0__.container.resolve(_src_services_ProductService__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    try {\n        const { search , category , page  } = req.query;\n        if (search) {\n            const products = await productService.searchProduct(category, search);\n            return res.status(200).json(products);\n        }\n        const result = await productService.getProducts(category, page);\n        res.status(200).json(result);\n    } catch (error) {\n        res.status(500).json({\n            error: error.jsonOutPut()\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvZHVjdHMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxQztBQUM2QjtBQUVuRCxlQUFlRSxXQUFXLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0lBQ25ELE1BQU1DLGNBQWMsR0FBR0wsdURBQWlCLENBQUNDLG9FQUFjLENBQUM7SUFDeEQsSUFBSTtRQUNILE1BQU0sRUFBRU0sTUFBTSxHQUFFQyxRQUFRLEdBQUVDLElBQUksR0FBRSxHQUFHTixHQUFHLENBQUNPLEtBQUs7UUFDNUMsSUFBSUgsTUFBTSxFQUFFO1lBQ1gsTUFBTUksUUFBUSxHQUFHLE1BQU1OLGNBQWMsQ0FBQ08sYUFBYSxDQUFDSixRQUFRLEVBQUVELE1BQU0sQ0FBQztZQUNyRSxPQUFPSCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSCxRQUFRLENBQUMsQ0FBQztTQUN0QztRQUNELE1BQU1JLE1BQU0sR0FBRyxNQUFNVixjQUFjLENBQUNILFdBQVcsQ0FBQ00sUUFBUSxFQUFFQyxJQUFJLENBQUM7UUFDL0RMLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0tBQzdCLENBQUMsT0FBT0MsS0FBSyxFQUFFO1FBQ2ZaLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUUsS0FBSyxFQUFFQSxLQUFLLENBQUNDLFVBQVUsRUFBRTtTQUFFLENBQUMsQ0FBQztLQUNwRDtDQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1sZWFybmluZy8uL3BhZ2VzL2FwaS9wcm9kdWN0cy9pbmRleC50cz85MjQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnRhaW5lciB9IGZyb20gJ3RzeXJpbmdlJztcbmltcG9ydCBQcm9kdWN0U2VydmljZSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMvUHJvZHVjdFNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0cyhyZXEsIHJlcykge1xuXHRjb25zdCBwcm9kdWN0U2VydmljZSA9IGNvbnRhaW5lci5yZXNvbHZlKFByb2R1Y3RTZXJ2aWNlKTtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHNlYXJjaCwgY2F0ZWdvcnksIHBhZ2UgfSA9IHJlcS5xdWVyeTtcblx0XHRpZiAoc2VhcmNoKSB7XG5cdFx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RTZXJ2aWNlLnNlYXJjaFByb2R1Y3QoY2F0ZWdvcnksIHNlYXJjaCk7XG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdHMpO1xuXHRcdH1cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9kdWN0U2VydmljZS5nZXRQcm9kdWN0cyhjYXRlZ29yeSwgcGFnZSk7XG5cdFx0cmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5qc29uT3V0UHV0KCkgfSk7XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJjb250YWluZXIiLCJQcm9kdWN0U2VydmljZSIsImdldFByb2R1Y3RzIiwicmVxIiwicmVzIiwicHJvZHVjdFNlcnZpY2UiLCJyZXNvbHZlIiwic2VhcmNoIiwiY2F0ZWdvcnkiLCJwYWdlIiwicXVlcnkiLCJwcm9kdWN0cyIsInNlYXJjaFByb2R1Y3QiLCJzdGF0dXMiLCJqc29uIiwicmVzdWx0IiwiZXJyb3IiLCJqc29uT3V0UHV0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/products/index.ts\n");

/***/ }),

/***/ "(api)/./src/exceptions/ApiExeption.ts":
/*!***************************************!*\
  !*** ./src/exceptions/ApiExeption.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ApiException extends Error {\n    constructor(message){\n        super(message);\n        Object.setPrototypeOf(this, ApiException.prototype);\n    }\n    jsonOutPut() {\n        return {\n            error: true,\n            message: this.message\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ApiException);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZXhjZXB0aW9ucy9BcGlFeGVwdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsWUFBWSxTQUFTQyxLQUFLO0lBQy9CQyxZQUFZQyxPQUFlLENBQUU7UUFDNUIsS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztRQUVmQyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxJQUFJLEVBQUVMLFlBQVksQ0FBQ00sU0FBUyxDQUFDLENBQUM7S0FDcEQ7SUFFREMsVUFBVSxHQUFXO1FBQ3BCLE9BQU87WUFBRUMsS0FBSyxFQUFFLElBQUk7WUFBRUwsT0FBTyxFQUFFLElBQUksQ0FBQ0EsT0FBTztTQUFFLENBQUM7S0FDOUM7Q0FDRDtBQUVELGlFQUFlSCxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWxlYXJuaW5nLy4vc3JjL2V4Y2VwdGlvbnMvQXBpRXhlcHRpb24udHM/ZTBhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBcGlFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXG5cdFx0T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFwaUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuXHR9XG5cblx0anNvbk91dFB1dCgpOiBvYmplY3Qge1xuXHRcdHJldHVybiB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UgfTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGlFeGNlcHRpb247XG4iXSwibmFtZXMiOlsiQXBpRXhjZXB0aW9uIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImpzb25PdXRQdXQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/exceptions/ApiExeption.ts\n");

/***/ }),

/***/ "(api)/./src/models/Product.ts":
/*!*******************************!*\
  !*** ./src/models/Product.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst Product = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    stock: {\n        type: \"boolean\"\n    },\n    code: {\n        type: \"number\"\n    },\n    name: {\n        type: \"string\",\n        index: true\n    },\n    minimum: {\n        type: \"string\"\n    },\n    price: {\n        type: \"number\"\n    },\n    category: {\n        type: \"string\"\n    },\n    seller: {\n        type: \"string\"\n    },\n    picture: {\n        type: \"string\"\n    }\n});\nProduct.index({\n    name: \"text\"\n});\nProduct.statics.getProducts = async function(category, page) {\n    const limit = 60;\n    const productsCount = category ? await this.countDocuments({\n        category\n    }) : await this.countDocuments();\n    const query = category ? {\n        category\n    } : {};\n    const products = await this.find(query).select({\n        _id: 0,\n        __v: 0\n    }).limit(limit).skip(limit * (page - 1)).sort({\n        name: 1\n    });\n    const totalPages = Math.ceil(productsCount / limit);\n    return {\n        products,\n        totalPages\n    };\n};\nProduct.statics.createProduct = async function(product) {\n    await this.create(product);\n};\n// Product.statics.getByCategory = async function (category: string, page: number) {\n// \tconst limit = 60;\n// \tconst productsCount = await this.countDocuments({ category });\n// \tconst products = await this.find({ category })\n// \t\t.select({ _id: 0, __v: 0 })\n// \t\t.limit(limit)\n// \t\t.skip(limit * (page - 1));\n// \tif (!products.length) {\n// \t\tthrow new Error(`No products found on category ${category}`);\n// \t}\n// \tconst totalPages = Math.ceil(productsCount / limit);\n// \treturn { products, totalPages };\n// };\nProduct.statics.deleteAll = async function() {\n    await this.deleteMany({});\n};\nProduct.statics.search = async function(category, search) {\n    const query = category ? {\n        category,\n        $text: {\n            $search: search\n        }\n    } : {\n        $text: {\n            $search: search\n        }\n    };\n    const products = await this.find(query, {\n        score: {\n            $meta: \"textScore\"\n        }\n    }).sort({\n        score: {\n            $meta: \"textScore\"\n        }\n    });\n    return {\n        products\n    };\n};\nif (!(mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Product)) {\n    const productModel = (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"Product\", Product);\n    productModel.createIndexes();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Product));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFO0tBQUU7SUFDbEcsTUFBTWYsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxJQUFJLENBQUNGLEtBQUssRUFBRTtRQUFFbUIsS0FBSyxFQUFFO1lBQUVDLEtBQUssRUFBRSxXQUFXO1NBQUU7S0FBRSxDQUFDLENBQUNiLElBQUksQ0FBQztRQUMvRVksS0FBSyxFQUFFO1lBQUVDLEtBQUssRUFBRSxXQUFXO1NBQUU7S0FDN0IsQ0FBQztJQUNGLE9BQU87UUFBRW5CLFFBQVE7S0FBRSxDQUFDO0NBQ3BCLENBQUM7QUFFRixJQUFJLENBQUNyQixnRUFBdUIsRUFBRTtJQUM3QixNQUFNMEMsWUFBWSxHQUFHeEMsK0NBQUssQ0FBc0IsU0FBUyxFQUFFQyxPQUFPLENBQUM7SUFDbkV1QyxZQUFZLENBQUNDLGFBQWEsRUFBRSxDQUFDO0NBQzdCO0FBRUQsaUVBQWUzQyxnRUFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtbGVhcm5pbmcvLi9zcmMvbW9kZWxzL1Byb2R1Y3QudHM/NjkzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cnVuY2F0ZSB9IGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIG1vZGVsLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IFByb2R1Y3RNb2RlbCB9IGZyb20gJy4uL2dsb2JhbC90eXBlcyc7XG5cbmludGVyZmFjZSBCYXNlUHJvZHVjdERvY3VtZW50IGV4dGVuZHMgUHJvZHVjdE1vZGVsLCBEb2N1bWVudCB7fVxuXG5jb25zdCBQcm9kdWN0ID0gbmV3IFNjaGVtYTxCYXNlUHJvZHVjdERvY3VtZW50Pih7XG5cdHN0b2NrOiB7IHR5cGU6ICdib29sZWFuJyB9LFxuXHRjb2RlOiB7IHR5cGU6ICdudW1iZXInIH0sXG5cdG5hbWU6IHsgdHlwZTogJ3N0cmluZycsIGluZGV4OiB0cnVlIH0sXG5cdG1pbmltdW06IHsgdHlwZTogJ3N0cmluZycgfSxcblx0cHJpY2U6IHsgdHlwZTogJ251bWJlcicgfSxcblx0Y2F0ZWdvcnk6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0c2VsbGVyOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdHBpY3R1cmU6IHsgdHlwZTogJ3N0cmluZycgfVxufSk7XG5cblByb2R1Y3QuaW5kZXgoeyBuYW1lOiAndGV4dCcgfSk7XG5cblByb2R1Y3Quc3RhdGljcy5nZXRQcm9kdWN0cyA9IGFzeW5jIGZ1bmN0aW9uIChjYXRlZ29yeTogc3RyaW5nLCBwYWdlOiBudW1iZXIpIHtcblx0Y29uc3QgbGltaXQgPSA2MDtcblxuXHRjb25zdCBwcm9kdWN0c0NvdW50ID0gY2F0ZWdvcnkgPyBhd2FpdCB0aGlzLmNvdW50RG9jdW1lbnRzKHsgY2F0ZWdvcnkgfSkgOiBhd2FpdCB0aGlzLmNvdW50RG9jdW1lbnRzKCk7XG5cblx0Y29uc3QgcXVlcnkgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuXHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuZmluZChxdWVyeSlcblx0XHQuc2VsZWN0KHsgX2lkOiAwLCBfX3Y6IDAgfSlcblx0XHQubGltaXQobGltaXQpXG5cdFx0LnNraXAobGltaXQgKiAocGFnZSAtIDEpKVxuXHRcdC5zb3J0KHsgbmFtZTogMSB9KTsgXG5cdFx0XG5cdGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwocHJvZHVjdHNDb3VudCAvIGxpbWl0KTtcblx0cmV0dXJuIHsgcHJvZHVjdHMsIHRvdGFsUGFnZXMgfTtcbn07XG5cblByb2R1Y3Quc3RhdGljcy5jcmVhdGVQcm9kdWN0ID0gYXN5bmMgZnVuY3Rpb24gKHByb2R1Y3Q6IFByb2R1Y3RNb2RlbCkge1xuXHRhd2FpdCB0aGlzLmNyZWF0ZShwcm9kdWN0KTtcbn07XG5cbi8vIFByb2R1Y3Quc3RhdGljcy5nZXRCeUNhdGVnb3J5ID0gYXN5bmMgZnVuY3Rpb24gKGNhdGVnb3J5OiBzdHJpbmcsIHBhZ2U6IG51bWJlcikge1xuLy8gXHRjb25zdCBsaW1pdCA9IDYwO1xuXG4vLyBcdGNvbnN0IHByb2R1Y3RzQ291bnQgPSBhd2FpdCB0aGlzLmNvdW50RG9jdW1lbnRzKHsgY2F0ZWdvcnkgfSk7XG5cbi8vIFx0Y29uc3QgcHJvZHVjdHMgPSBhd2FpdCB0aGlzLmZpbmQoeyBjYXRlZ29yeSB9KVxuLy8gXHRcdC5zZWxlY3QoeyBfaWQ6IDAsIF9fdjogMCB9KVxuLy8gXHRcdC5saW1pdChsaW1pdClcbi8vIFx0XHQuc2tpcChsaW1pdCAqIChwYWdlIC0gMSkpO1xuXG4vLyBcdGlmICghcHJvZHVjdHMubGVuZ3RoKSB7XG4vLyBcdFx0dGhyb3cgbmV3IEVycm9yKGBObyBwcm9kdWN0cyBmb3VuZCBvbiBjYXRlZ29yeSAke2NhdGVnb3J5fWApO1xuLy8gXHR9XG5cbi8vIFx0Y29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbChwcm9kdWN0c0NvdW50IC8gbGltaXQpO1xuLy8gXHRyZXR1cm4geyBwcm9kdWN0cywgdG90YWxQYWdlcyB9O1xuLy8gfTtcblxuUHJvZHVjdC5zdGF0aWNzLmRlbGV0ZUFsbCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcblx0YXdhaXQgdGhpcy5kZWxldGVNYW55KHt9KTtcbn07XG5cblByb2R1Y3Quc3RhdGljcy5zZWFyY2ggPSBhc3luYyBmdW5jdGlvbiAoY2F0ZWdvcnksIHNlYXJjaCkge1xuXHRjb25zdCBxdWVyeSA9IGNhdGVnb3J5ID8geyBjYXRlZ29yeSwgJHRleHQ6IHsgJHNlYXJjaDogc2VhcmNoIH0gfSA6IHsgJHRleHQ6IHsgJHNlYXJjaDogc2VhcmNoIH0gfTtcblx0Y29uc3QgcHJvZHVjdHMgPSBhd2FpdCB0aGlzLmZpbmQocXVlcnksIHsgc2NvcmU6IHsgJG1ldGE6ICd0ZXh0U2NvcmUnIH0gfSkuc29ydCh7XG5cdFx0c2NvcmU6IHsgJG1ldGE6ICd0ZXh0U2NvcmUnIH1cblx0fSk7XG5cdHJldHVybiB7IHByb2R1Y3RzIH07XG59O1xuXG5pZiAoIW1vbmdvb3NlLm1vZGVscy5Qcm9kdWN0KSB7XG5cdGNvbnN0IHByb2R1Y3RNb2RlbCA9IG1vZGVsPEJhc2VQcm9kdWN0RG9jdW1lbnQ+KCdQcm9kdWN0JywgUHJvZHVjdCk7XG5cdHByb2R1Y3RNb2RlbC5jcmVhdGVJbmRleGVzKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Qcm9kdWN0O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwibW9kZWwiLCJQcm9kdWN0Iiwic3RvY2siLCJ0eXBlIiwiY29kZSIsIm5hbWUiLCJpbmRleCIsIm1pbmltdW0iLCJwcmljZSIsImNhdGVnb3J5Iiwic2VsbGVyIiwicGljdHVyZSIsInN0YXRpY3MiLCJnZXRQcm9kdWN0cyIsInBhZ2UiLCJsaW1pdCIsInByb2R1Y3RzQ291bnQiLCJjb3VudERvY3VtZW50cyIsInF1ZXJ5IiwicHJvZHVjdHMiLCJmaW5kIiwic2VsZWN0IiwiX2lkIiwiX192Iiwic2tpcCIsInNvcnQiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjcmVhdGVQcm9kdWN0IiwicHJvZHVjdCIsImNyZWF0ZSIsImRlbGV0ZUFsbCIsImRlbGV0ZU1hbnkiLCJzZWFyY2giLCIkdGV4dCIsIiRzZWFyY2giLCJzY29yZSIsIiRtZXRhIiwibW9kZWxzIiwicHJvZHVjdE1vZGVsIiwiY3JlYXRlSW5kZXhlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/Product.ts\n");

/***/ }),

/***/ "(api)/./src/services/BaseService.ts":
/*!*************************************!*\
  !*** ./src/services/BaseService.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants/config */ \"(api)/./constants/config.ts\");\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsyringe */ \"tsyringe\");\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tsyringe__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_2__);\nvar _class;\n\n\n\nvar _dec = typeof Reflect !== \"undefined\" && typeof Reflect.metadata === \"function\" && Reflect.metadata(\"design:paramtypes\", []), _dec1 = typeof Reflect !== \"undefined\" && typeof Reflect.metadata === \"function\" && Reflect.metadata(\"design:type\", Function), _dec2 = (0,tsyringe__WEBPACK_IMPORTED_MODULE_1__.singleton)();\nlet BaseService = _class = _dec2(_class = _dec1(_class = _dec((_class = class BaseService {\n    constructor(){\n        this.mongoInit().catch((e)=>console.log(e, \"error on mongo connection\")\n        );\n    }\n    async mongoInit() {\n        return new Promise(async (resolve, reject)=>{\n            try {\n                if (this.isDbConnected) return;\n                const db = await (0,mongoose__WEBPACK_IMPORTED_MODULE_2__.connect)(_constants_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MONGODB_CONNECTION);\n                this.isDbConnected = db.connections[0].readyState;\n                resolve(db.connections[0].readyState);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n}) || _class) || _class) || _class) || _class;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZXMvQmFzZVNlcnZpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFBNEM7QUFDUDtBQUM0QjtpUUFFaEVDLEtBQVcsR0FBWEEsbURBQVMsRUFBRTtJQUNORSxXQUFXLFlBRGhCRixLQUFXLHdDQUFaLE1BQ01FLFdBQVc7SUFHaEJDLGFBQWM7UUFDYixJQUFJLENBQUNDLFNBQVMsRUFBRSxDQUFDQyxLQUFLLENBQUNDLENBQUFBLENBQUMsR0FBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLENBQUMsRUFBRSwyQkFBMkIsQ0FBQztRQUFBLENBQUMsQ0FBQztLQUN6RTtJQUVELE1BQU1GLFNBQVMsR0FBOEI7UUFDNUMsT0FBTyxJQUFJSyxPQUFPLENBQUMsT0FBT0MsT0FBTyxFQUFFQyxNQUFNLEdBQUs7WUFDN0MsSUFBSTtnQkFDSCxJQUFJLElBQUksQ0FBQ0MsYUFBYSxFQUFFLE9BQU87Z0JBQy9CLE1BQU1DLEVBQUUsR0FBRyxNQUFNWixpREFBTyxDQUFDRiw0RUFBeUIsQ0FBQztnQkFDbkQsSUFBSSxDQUFDYSxhQUFhLEdBQUdDLEVBQUUsQ0FBQ0UsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxVQUFVLENBQUM7Z0JBQ2xETixPQUFPLENBQUNHLEVBQUUsQ0FBQ0UsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxVQUFVLENBQUMsQ0FBQzthQUN0QyxDQUFDLE9BQU9WLENBQUMsRUFBRTtnQkFDWEssTUFBTSxDQUFDTCxDQUFDLENBQUMsQ0FBQzthQUNWO1NBQ0QsQ0FBQyxDQUFDO0tBQ0g7Q0FDRDtBQUVELGlFQUFlSixXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWxlYXJuaW5nLy4vc3JjL3NlcnZpY2VzL0Jhc2VTZXJ2aWNlLnRzPzYyYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi9jb25zdGFudHMvY29uZmlnJztcbmltcG9ydCB7IHNpbmdsZXRvbiB9IGZyb20gJ3RzeXJpbmdlJztcbmltcG9ydCB7IGNvbm5lY3Rpb24sIGNvbm5lY3QsIENvbm5lY3Rpb25TdGF0ZXMgfSBmcm9tICdtb25nb29zZSc7XG5cbkBzaW5nbGV0b24oKVxuY2xhc3MgQmFzZVNlcnZpY2Uge1xuXHRwdWJsaWMgaXNEYkNvbm5lY3RlZDogQ29ubmVjdGlvblN0YXRlcztcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm1vbmdvSW5pdCgpLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSwgJ2Vycm9yIG9uIG1vbmdvIGNvbm5lY3Rpb24nKSk7XG5cdH1cblxuXHRhc3luYyBtb25nb0luaXQoKTogUHJvbWlzZTxDb25uZWN0aW9uU3RhdGVzPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmICh0aGlzLmlzRGJDb25uZWN0ZWQpIHJldHVybjtcblx0XHRcdFx0Y29uc3QgZGIgPSBhd2FpdCBjb25uZWN0KGNvbmZpZy5NT05HT0RCX0NPTk5FQ1RJT04pO1xuXHRcdFx0XHR0aGlzLmlzRGJDb25uZWN0ZWQgPSBkYi5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlO1xuXHRcdFx0XHRyZXNvbHZlKGRiLmNvbm5lY3Rpb25zWzBdLnJlYWR5U3RhdGUpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZVNlcnZpY2U7XG4iXSwibmFtZXMiOlsiY29uZmlnIiwic2luZ2xldG9uIiwiY29ubmVjdCIsIkJhc2VTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJtb25nb0luaXQiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwibG9nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpc0RiQ29ubmVjdGVkIiwiZGIiLCJNT05HT0RCX0NPTk5FQ1RJT04iLCJjb25uZWN0aW9ucyIsInJlYWR5U3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/services/BaseService.ts\n");

/***/ }),

/***/ "(api)/./src/services/ProductService.ts":
/*!****************************************!*\
  !*** ./src/services/ProductService.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tsyringe */ \"tsyringe\");\n/* harmony import */ var tsyringe__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tsyringe__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _exceptions_ApiExeption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../exceptions/ApiExeption */ \"(api)/./src/exceptions/ApiExeption.ts\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/Product */ \"(api)/./src/models/Product.ts\");\n/* harmony import */ var _BaseService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseService */ \"(api)/./src/services/BaseService.ts\");\nvar _class;\n\n\n\n\nvar _dec = typeof Reflect !== \"undefined\" && typeof Reflect.metadata === \"function\" && Reflect.metadata(\"design:paramtypes\", []), _dec1 = typeof Reflect !== \"undefined\" && typeof Reflect.metadata === \"function\" && Reflect.metadata(\"design:type\", Function), _dec2 = (0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.singleton)();\nlet ProductService = _class = _dec2(_class = _dec1(_class = _dec((_class = class ProductService extends _BaseService__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n    constructor(){\n        super();\n    }\n    async saveProduct(product) {\n        try {\n            await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createProduct(product);\n            return {\n                error: false\n            };\n        } catch (e) {\n            throw new _exceptions_ApiExeption__WEBPACK_IMPORTED_MODULE_1__[\"default\"](e);\n        }\n    }\n    async getProducts(category, page = 1) {\n        try {\n            const products = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getProducts(category, page);\n            return products;\n        } catch (e) {\n            throw new _exceptions_ApiExeption__WEBPACK_IMPORTED_MODULE_1__[\"default\"](e);\n        }\n    }\n    // async getByCategory(category: string, page: number = 1) {\n    // \ttry {\n    // \t\tconst products = await Product.getByCategory(category, page);\n    // \t\treturn products;\n    // \t} catch (e) {\n    // \t\tthrow new ApiException(e);\n    // \t}\n    // }\n    async searchProduct(query, category) {\n        try {\n            const products = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].search(query, category);\n            return products;\n        } catch (e) {\n            throw new _exceptions_ApiExeption__WEBPACK_IMPORTED_MODULE_1__[\"default\"](e);\n        }\n    }\n    async clearAll() {\n        try {\n            return _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteAll();\n        } catch (e) {\n            throw new _exceptions_ApiExeption__WEBPACK_IMPORTED_MODULE_1__[\"default\"](e);\n        }\n    }\n}) || _class) || _class) || _class) || _class;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProductService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZXMvUHJvZHVjdFNlcnZpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFBcUM7QUFDZ0I7QUFFYjtBQUNBO2lRQUV2Q0EsS0FBVyxHQUFYQSxtREFBUyxFQUFFO0lBQ05JLGNBQWMsWUFEbkJKLEtBQVcsd0NBQVosTUFDTUksY0FBYyxTQUFTRCxvREFBVztJQUN2Q0UsYUFBYztRQUNiLEtBQUssRUFBRSxDQUFDO0tBQ1I7SUFFRCxNQUFNQyxXQUFXLENBQUNDLE9BQXFCLEVBQUU7UUFDeEMsSUFBSTtZQUNILE1BQU1MLHFFQUFxQixDQUFDSyxPQUFPLENBQUMsQ0FBQztZQUNyQyxPQUFPO2dCQUFFRSxLQUFLLEVBQUUsS0FBSzthQUFFLENBQUM7U0FDeEIsQ0FBQyxPQUFPQyxDQUFDLEVBQUU7WUFDWCxNQUFNLElBQUlULCtEQUFZLENBQUNTLENBQUMsQ0FBQyxDQUFDO1NBQzFCO0tBQ0Q7SUFFRCxNQUFNQyxXQUFXLENBQUNDLFFBQVEsRUFBRUMsSUFBWSxHQUFHLENBQUMsRUFBRTtRQUM3QyxJQUFJO1lBQ0gsTUFBTUMsUUFBUSxHQUFHLE1BQU1aLG1FQUFtQixDQUFDVSxRQUFRLEVBQUVDLElBQUksQ0FBQztZQUMxRCxPQUFPQyxRQUFRLENBQUM7U0FDaEIsQ0FBQyxPQUFPSixDQUFDLEVBQUU7WUFDWCxNQUFNLElBQUlULCtEQUFZLENBQUNTLENBQUMsQ0FBQyxDQUFDO1NBQzFCO0tBQ0Q7SUFFRCw0REFBNEQ7SUFDNUQsU0FBUztJQUNULGtFQUFrRTtJQUNsRSxxQkFBcUI7SUFDckIsaUJBQWlCO0lBQ2pCLCtCQUErQjtJQUMvQixLQUFLO0lBQ0wsSUFBSTtJQUVKLE1BQU1LLGFBQWEsQ0FBQ0MsS0FBSyxFQUFFSixRQUFRLEVBQUU7UUFDcEMsSUFBSTtZQUNILE1BQU1FLFFBQVEsR0FBRyxNQUFNWiw4REFBYyxDQUFDYyxLQUFLLEVBQUVKLFFBQVEsQ0FBQztZQUN0RCxPQUFPRSxRQUFRLENBQUM7U0FDaEIsQ0FBQyxPQUFPSixDQUFDLEVBQUU7WUFDWCxNQUFNLElBQUlULCtEQUFZLENBQUNTLENBQUMsQ0FBQyxDQUFDO1NBQzFCO0tBQ0Q7SUFFRCxNQUFNUSxRQUFRLEdBQUc7UUFDaEIsSUFBSTtZQUNILE9BQU9oQixpRUFBaUIsRUFBRSxDQUFDO1NBQzNCLENBQUMsT0FBT1EsQ0FBQyxFQUFFO1lBQ1gsTUFBTSxJQUFJVCwrREFBWSxDQUFDUyxDQUFDLENBQUMsQ0FBQztTQUMxQjtLQUNEO0NBQ0Q7QUFFRCxpRUFBZU4sY0FBYyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1sZWFybmluZy8uL3NyYy9zZXJ2aWNlcy9Qcm9kdWN0U2VydmljZS50cz9jMWI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpbmdsZXRvbiB9IGZyb20gJ3RzeXJpbmdlJztcbmltcG9ydCBBcGlFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9ucy9BcGlFeGVwdGlvbic7XG5pbXBvcnQgeyBQcm9kdWN0TW9kZWwgfSBmcm9tICcuLi9nbG9iYWwvdHlwZXMnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL1Byb2R1Y3QnO1xuaW1wb3J0IEJhc2VTZXJ2aWNlIGZyb20gJy4vQmFzZVNlcnZpY2UnO1xuXG5Ac2luZ2xldG9uKClcbmNsYXNzIFByb2R1Y3RTZXJ2aWNlIGV4dGVuZHMgQmFzZVNlcnZpY2Uge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVByb2R1Y3QocHJvZHVjdDogUHJvZHVjdE1vZGVsKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IFByb2R1Y3QuY3JlYXRlUHJvZHVjdChwcm9kdWN0KTtcblx0XHRcdHJldHVybiB7IGVycm9yOiBmYWxzZSB9O1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFeGNlcHRpb24oZSk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0UHJvZHVjdHMoY2F0ZWdvcnksIHBhZ2U6IG51bWJlciA9IDEpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmdldFByb2R1Y3RzKGNhdGVnb3J5LCBwYWdlKTtcblx0XHRcdHJldHVybiBwcm9kdWN0cztcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXhjZXB0aW9uKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGFzeW5jIGdldEJ5Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZywgcGFnZTogbnVtYmVyID0gMSkge1xuXHQvLyBcdHRyeSB7XG5cdC8vIFx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZ2V0QnlDYXRlZ29yeShjYXRlZ29yeSwgcGFnZSk7XG5cdC8vIFx0XHRyZXR1cm4gcHJvZHVjdHM7XG5cdC8vIFx0fSBjYXRjaCAoZSkge1xuXHQvLyBcdFx0dGhyb3cgbmV3IEFwaUV4Y2VwdGlvbihlKTtcblx0Ly8gXHR9XG5cdC8vIH1cblxuXHRhc3luYyBzZWFyY2hQcm9kdWN0KHF1ZXJ5LCBjYXRlZ29yeSkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3Quc2VhcmNoKHF1ZXJ5LCBjYXRlZ29yeSk7XG5cdFx0XHRyZXR1cm4gcHJvZHVjdHM7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUV4Y2VwdGlvbihlKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBjbGVhckFsbCgpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIFByb2R1Y3QuZGVsZXRlQWxsKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUV4Y2VwdGlvbihlKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdFNlcnZpY2U7XG4iXSwibmFtZXMiOlsic2luZ2xldG9uIiwiQXBpRXhjZXB0aW9uIiwiUHJvZHVjdCIsIkJhc2VTZXJ2aWNlIiwiUHJvZHVjdFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInNhdmVQcm9kdWN0IiwicHJvZHVjdCIsImNyZWF0ZVByb2R1Y3QiLCJlcnJvciIsImUiLCJnZXRQcm9kdWN0cyIsImNhdGVnb3J5IiwicGFnZSIsInByb2R1Y3RzIiwic2VhcmNoUHJvZHVjdCIsInF1ZXJ5Iiwic2VhcmNoIiwiY2xlYXJBbGwiLCJkZWxldGVBbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/services/ProductService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/products/index.ts"));
module.exports = __webpack_exports__;

})();